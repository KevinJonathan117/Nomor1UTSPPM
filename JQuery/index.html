<!DOCTYPE html>
<html>

<head>
    <title>Hello, World!</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=no">
    <style>
        .ui-footer {
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <section data-role="page" id="win1">
        <header data-role="header">
            <h1>Input Pinjaman</h1>
        </header>
        <article data-role="content">
            <label for="number-pattern">Pinjaman:</label>
            <input type="number" name="number" pattern="[0-9]*" id="number-pattern" value="" class="jumlahPinjaman">
            <label for="number-pattern">Waktu Pinjaman:</label>
            <input type="number" name="number" pattern="[0-9]*" id="number-pattern1" value="" class="waktuPinjaman">
            <button class="ui-shadow ui-btn ui-corner-all" id="konfirmasi">Konfirmasi</button>
            <p id="confirmPinjaman"></p>
            <a href="#win2">Go to Informasi Cicilan</a>
        </article>
        <footer data-role="footer">
            <h1>Powered By Kevin Jonathan</h1>
        </footer>
    </section>
    <section data-role="page" id="win2">
        <header data-role="header">
            <h1>Informasi Cicilan</h1>
        </header>
        <article data-role="content">
            <div id="contents">

            </div>
            <a href="#win1">Go to Input Pinjaman</a>
        </article>
        <footer data-role="footer">
            <h1>Powered By Kevin Jonathan</h1>
        </footer>
    </section>
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script>
        var jumlahPinjaman = [];
        var waktuPinjaman = [];
        var bungaPinjaman = [];
        var counter = 0;
        $(function () {
            $("#konfirmasi").bind("tap", tapHandler);

            function tapHandler(event) {
                var bunga;
                var waktuPinjam = parseFloat($(".waktuPinjaman").val());
                var jumlahPinjam = parseFloat($(".jumlahPinjaman").val());
                if (waktuPinjam < 1 || waktuPinjam == NaN) {
                    $("#confirmPinjaman").html("Tolong Inputkan waktu pinjaman yang valid");
                }
                if (jumlahPinjam < 1 || jumlahPinjam == NaN) {
                    $("#confirmPinjaman").html("Tolong Inputkan jumlah pinjaman yang valid");
                }
                else {
                    if (waktuPinjam >= 1 && waktuPinjam <= 6) {
                        bunga = 2;
                    }
                    else if (waktuPinjam >= 7 && waktuPinjam <= 12) {
                        bunga = 1.5;
                    }
                    else if (waktuPinjam > 12) {
                        bunga = 1;
                    }
                    $("#confirmPinjaman").html("Pinjaman berhasil, Total pengembalian: " + (jumlahPinjam + (jumlahPinjam * bunga / 100 * waktuPinjam)));
                    jumlahPinjaman.push(jumlahPinjam + (jumlahPinjam * bunga / 100 * waktuPinjam));
                    waktuPinjaman.push(waktuPinjam);
                    bungaPinjaman.push(bunga);
                    $("#contents").append("<div data-role='collapsible'>" + "<h4>" + "Cicilan " + (counter+1) +"</h4>" + "<p>" + "Jumlah Pinjaman :" + jumlahPinjaman[counter] + "</p>" + "<p>" + "Lama Pinjaman :" + waktuPinjaman[counter] + "</p>" + "</div>");
                    counter++;
                    document.getElementById("number-pattern").value = "";
                    document.getElementById("number-pattern1").value = "";
                }
            }
        });
    </script>
</body>

</html>